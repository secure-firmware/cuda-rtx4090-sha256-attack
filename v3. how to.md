// In the main function
const int NUM_BLOCK_SIZES = 5;
int blockSizes[NUM_BLOCK_SIZES] = {128, 256, 512, 1024, 2048};

for (int i = 0; i < NUM_BLOCK_SIZES; i++) {
    int blockSize = blockSizes[i];
    long long numBlocks = (total_passwords + blockSize - 1) / blockSize;

    // Reset found flag
    cudaMemset(d_found, 0, sizeof(int));

    // Start timing
    auto start_time = std::chrono::high_resolution_clock::now();

    find_password_optimized<<<numBlocks, blockSize>>>(0, d_found, d_result_index, d_salt, d_target_hash);
    cudaDeviceSynchronize();

    // End timing
    auto end_time = std::chrono::high_resolution_clock::now();
    std::chrono::duration<double> elapsed_seconds = end_time - start_time;

    // Calculate and print performance
    double hashes_per_second = total_passwords / elapsed_seconds.count();
    double gigahashes_per_second = hashes_per_second / 1e9;
    std::cout << "Block size: " << blockSize << ", Performance: " << gigahashes_per_second << " GH/s" << std::endl;
}


result 128 is highest performance and occupancy 100%.